(self.webpackChunkshopcarts_ui=self.webpackChunkshopcarts_ui||[]).push([[705],{9628:function(e,t,r){"use strict";r.d(t,{Kk:function(){return l},k6:function(){return c},Qj:function(){return o}});var n=r(7294),a=r(5444),l=function(e){var t=e.title,r=e.className,a=void 0===r?"":r,l=e.handleClick,c=e.color,o=e.id,s=void 0===o?"":o;return n.createElement("div",{className:"rounded-full shadow"},n.createElement("button",{id:"shopcarts_"+s+"-btn",onClick:l,className:"w-full flex items-center justify-center px-8 py-2 border border-transparent text-base font-medium rounded-full text-white "+c+" md:py-2 md:text-lg md:px-10 "+a},t))},c=function(e){var t=e.title,r=e.className,a=void 0===r?"":r,l=e.handleClick,c=e.color,o=e.id,s=void 0===o?"":o;return n.createElement("div",{className:"rounded-full shadow"},n.createElement("button",{id:"shopcarts_"+s+"-btn",onClick:l,className:"w-full flex items-center justify-center px-4 py-1 border border-transparent text-base font-medium rounded-full text-white "+c+" md:px-3 md:py-1 md:text-md "+a},t))},o=function(e){var t=e.title,r=e.className,l=void 0===r?"":r,c=e.href,o=e.color;return n.createElement("div",{className:"rounded-full shadow"},n.createElement(a.Link,{to:c,className:"w-full flex items-center justify-center px-8 py-2 border border-transparent text-base font-medium rounded-full text-white "+o+" md:py-2 md:text-lg md:px-10 "+l},t))}},5348:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(2137),a=r(7757),l=r.n(a),c=r(7294),o=r(5350);var s=r(7490),i=r(2519),u=r(5444),m=r(9628),d=function(e){var t=e.item,r=e.handleUpdateItem,n=e.handleDeleteItem,a=(0,c.useState)(t.quantity),l=a[0],o=a[1],s=t.product.toLowerCase().replaceAll(" ","-");return c.createElement("div",{id:"shopcarts_"+s+"-card",className:"border-2 border-green-200 rounded-xl mb-5 hover:shadow-lg hover:cursor-pointer"},c.createElement("div",{className:"grid"},c.createElement("div",{className:"row-start-1 row-end-2 col-start-1 col-end-3 sm:row-start-1 sm:row-end-3 sm:col-start-1 sm:col-end-3 w-40 h-40 p-3"},c.createElement("img",{className:"w-full h-full object-contain rounded-xl",src:t.image,alt:t.product})),c.createElement("div",{className:"row-start-1 row-end-2 col-start-3 col-end-7 sm:row-start-1 sm:row-end-2 sm:col-start-3 sm:col-end-7 p-5 flex-1"},c.createElement(u.Link,{to:t.link},c.createElement("h1",{id:"shopcarts_"+s+"-name",className:"text-2xl font-bold"},t.product),c.createElement("h1",{id:"shopcarts_"+s+"-price",className:"text-2xl my-1"},"$",t.price?t.price.toFixed(2):"0.00"),c.createElement("h1",{id:"shopcarts_"+s+"-quantity",className:"text-2xl my-1"},"Quantity: ",t.quantity))),c.createElement("div",{className:"row-start-2 row-end-3 col-start-1 col-end-7 sm:row-start-2 sm:row-end-3 sm:col-start-3 sm:col-end-5 px-5 flex flex-row justify-between"},c.createElement("div",{className:"my-auto"},c.createElement(m.k6,{id:"remove",title:"Remove",handleClick:function(){n(t.productID)},color:"bg-red-400 hover:bg-red-500"}))),c.createElement("div",{className:"row-start-3 row-end-4 col-start-1 col-end-7 sm:row-start-2 sm:row-end-3 sm:col-start-5 sm:col-end-7 px-5 my-6 flex flex-row"},c.createElement("div",{className:"my-auto"},c.createElement(m.k6,{id:"update-quantity",title:"Update quantity",handleClick:function(){r(t.productID,t.price,l)},color:"bg-green-400 hover:bg-green-500"})),c.createElement("input",{id:"shopcarts_quantity-input",className:"outline-none w-16 mx-5 border-b-4 border-black text-4xl text-center font-bold",type:"number",value:l,onChange:function(e){var t=parseInt(e.target.value);t>0&&o(t)}}))))},p=function(e){var t=e.items,r=void 0===t?[]:t,n=e.allItems,a=e.handleCheckout,l=r.map((function(e){return Object.assign({},n[e.product_id],{quantity:e.quantity})}));return c.createElement("div",{className:"lg:w-4/12 lg:m-5"},c.createElement("div",{className:"border-2 border-green-200 p-5 rounded-xl"},c.createElement("h1",{className:"text-green-500 text-4xl font-bold"},"Checkout"),c.createElement("h1",{className:"mt-5 text-green-500 text-2xl font-bold"},"Items"),c.createElement("ul",{className:"max-w-sm"},l.map((function(e){return c.createElement("li",{key:e.productID,className:"flex flex-row justify-between"},c.createElement("h1",{className:"text-lg"},"- ",e.product),c.createElement("h1",{className:"text-lg"},"$",e.price?e.price.toFixed(2):"0.00"," x",e.quantity))}))),c.createElement("h1",{className:"mt-5 text-green-500 text-2xl font-bold"},"Total"),c.createElement("h1",{className:"text-lg font-bold"},r.reduce((function(e,t){return e+t.quantity}),0)," Items"),c.createElement("h1",{className:"text-lg font-bold"},"Subtotal: $",r.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)),c.createElement(m.Kk,{id:"checkout",className:"mt-5",title:"Checkout",handleClick:function(){a(),(0,u.navigate)("/thank-you")},color:"bg-green-400 hover:bg-green-500"})))},f=function(e){var t=e.currentID,r=e.handleSubmit,n=e.handleCancel,a=(0,c.useState)(t),l=a[0],o=a[1];return c.createElement("div",{className:"flex flex-row"},c.createElement("input",{id:"shopcarts_id-input",className:"outline-none w-24 border-b-4 border-black text-2xl text-center font-bold",type:"number",value:l,onChange:function(e){var t=parseInt(e.target.value);t>0&&o(t)}}),c.createElement("div",{className:"mx-5"},c.createElement(m.k6,{id:"save",title:"Save",handleClick:function(){r(l)},color:"bg-green-400 hover:bg-green-500"})),c.createElement("div",null,c.createElement(m.k6,{id:"cancel",title:"Cancel",handleClick:function(){n()},color:"bg-red-400 hover:bg-red-500"})))},h=function(){var e=(0,c.useState)(!1),t=e[0],r=e[1],a=(0,o.aF)(),i=a.userID,u=a.setUserID,m=a.setShopCart;function d(){return(d=(0,n.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(t),e.next=4,(0,s.D2)(t);case 4:n=e.sent,m(n),r(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return c.createElement("div",{className:"ml-5 mb-5 flex flex-row flex-nowrap"},c.createElement("h1",{className:"text-2xl font-bold"},"User #"),t?c.createElement(f,{currentID:i,handleSubmit:function(e){return d.apply(this,arguments)},handleCancel:function(){r(!1)}}):c.createElement("button",{id:"shopcarts_edit-btn",onClick:function(){return r(!0)}},c.createElement("h1",{id:"shopcarts_user_id",className:"text-2xl font-bold"},i)))},x=function(e){var t=e.data,r=(0,o.aF)(),a=r.userID,u=r.setShopCart,m=r.shopCart,f=function(e){var t={};return e.forEach((function(e){var r=e.frontmatter;t[""+r.productID]={productID:r.productID,product:r.product,price:r.price,image:r.featuredImage.childImageSharp.fluid.src,link:r.slug}})),t}(t.allMarkdownRemark.nodes);function x(e,t,r){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(l().mark((function e(t,r,n){var c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.$G)(a,t,r,n);case 3:c=e.sent,u(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,n.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.wz)(a,t);case 3:r=e.sent,u(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=(0,n.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.LL)(a);case 3:t=e.sent,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var g=function(e){var t=e.items,r=void 0===t?[]:t,n=e.allItems;return c.createElement("div",{id:"shopcarts_items",className:"lg:w-8/12 lg:px-5"},r.map((function(e){return c.createElement(d,{key:e.product_id,item:Object.assign({},n[e.product_id],{quantity:e.quantity}),handleUpdateItem:x,handleDeleteItem:b})})))};return c.createElement(i.Z,{title:"Cart | Avoman"},c.createElement("div",{className:"max-w-6xl mx-auto px-5 mb-20"},c.createElement("h1",{className:"text-green-500 text-6xl font-bold"},"Your cart"),c.createElement(h,null),c.createElement("div",{className:"lg:flex flex-row w-full"},c.createElement(g,{items:m,allItems:f}),c.createElement(p,{items:m,allItems:f,handleCheckout:function(){return E.apply(this,arguments)}}))))}}}]);
//# sourceMappingURL=component---src-pages-cart-tsx-ef0e6446a8c2ec144c4d.js.map